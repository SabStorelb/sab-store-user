# ๐ก๏ธ ูุธุงู ุงูุญูุงูุฉ ูุงููุฑุงูุจุฉ - Sab Store
## Protection & Monitoring System

ุชู ุฅุถุงูุฉ ูุธุงู ุดุงูู ูุญูุงูุฉ ุงูุชุทุจูู ูู ุงููุดุงูู ุงููุณุชูุจููุฉ ูุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู.

---

## ๐ฆ ูุง ุชู ุฅุถุงูุชูุ

### 1๏ธโฃ ูุนุงูุฌ ุงูุฃุฎุทุงุก ุงูุฐูู (`src/lib/errorHandler.ts`)

ูููุฑ:
- โ **ุฑุณุงุฆู ูุงุถุญุฉ ูููุณุชุฎุฏู** ุจุงููุบุฉ ุงูุนุฑุจูุฉ
- โ **ุชูุงุตูู ุชูููุฉ ูููุทูุฑูู** ููุชุดุฎูุต
- โ **ุชุตููู ุงูุฃุฎุทุงุก** (ูุงุจูุฉ ูุฅุนุงุฏุฉ ุงููุญุงููุฉ ุฃู ูุง)
- โ **ุฅุฑุดุงุฏุงุช ูููุณุชุฎุฏู** ูุญู ุงููุดููุฉ

**ูุซุงู ุนูู ุงูุฃุฎุทุงุก ุงููุนุงูุฌุฉ:**
- `storage/unauthorized` โ "ููุณ ูุฏูู ุตูุงุญูุฉ ูุฑูุน ุงููููุงุช"
- `storage/quota-exceeded` โ "ุชู ุชุฌุงูุฒ ูุณุงุญุฉ ุงูุชุฎุฒูู"
- `CORS_ERROR` โ "ูุดููุฉ ูู ุงูุงุชุตุงู ุจุงูุฎุงุฏู"
- `FILE_TOO_LARGE` โ "ุญุฌู ุงูููู ูุจูุฑ ุฌุฏุงู"

---

### 2๏ธโฃ ูุธุงู ุงูุฑูุน ุงูุขูู (`src/lib/safeUpload.ts`)

**ุงููููุฒุงุช:**

#### ๐ ุฅุนุงุฏุฉ ูุญุงููุฉ ุชููุงุฆูุฉ
- ูุญุงูู 3 ูุฑุงุช ูุจู ุงููุดู
- ููุช ุงูุชุธุงุฑ ูุชุฒุงูุฏ ุจูู ุงููุญุงููุงุช
- ูุนูู ุงููุณุชุฎุฏู ุจูู ูุญุงููุฉ

#### ๐ก๏ธ ูุญูุตุงุช ุฃูุงู
- โ **ูุญุต ุงูุงุชุตุงู** ุจู Firebase ูุจู ุงูุฑูุน
- โ **ุงูุชุญูู ูู ุงูุตูุงุญูุงุช** (ูู ุงููุณุชุฎุฏู adminุ)
- โ **ูุญุต ููุน ุงูููู** (ุตูุฑ ููุท)
- โ **ูุญุต ุญุฌู ุงูููู** (ุญุฏ ุฃูุตู 5MB)
- โ **ูุญุต ุงุณู ุงูููู** (ููุณ ุทูููุงู ุฌุฏุงู)

#### ๐ ูุชุงุจุนุฉ ุงูุชูุฏู
- ูุนุฑุถ ูุณุจุฉ ุงูุฑูุน ูููุณุชุฎุฏู
- ูุญุฏุซ ุจุดูู ููุฑู
- ูุนุทู ุดุนูุฑ ุจุงูุชุญูู

**ููููุฉ ุงูุงุณุชุฎุฏุงู:**
```typescript
import { safeUploadFile } from '../lib/safeUpload';

const result = await safeUploadFile(imageFile, 'banners/test.jpg', {
  maxRetries: 3,
  retryDelay: 1500,
  maxFileSize: 5 * 1024 * 1024,
  onProgress: (progress) => {
    console.log(`ุงูุชูุฏู: ${progress}%`);
  },
  onRetry: (attempt) => {
    console.log(`ุฅุนุงุฏุฉ ุงููุญุงููุฉ ${attempt}/3`);
  },
});

if (result.success) {
  console.log('ุงูุฑุงุจุท:', result.url);
} else {
  console.error('ุงูุฎุทุฃ:', result.error);
}
```

---

### 3๏ธโฃ ุชุญุฏูุซ ุตูุญุฉ ุงูุจุงูุฑุงุช (`src/pages/admin/banners/new.tsx`)

**ุงูุชุญุณููุงุช:**
- โ ุงุณุชุฎุฏุงู `safeUploadFile` ุจุฏูุงู ูู ุงูุฑูุน ุงููุจุงุดุฑ
- โ ุนุฑุถ ุฑุณุงูุฉ ุงูุฎุทุฃ ูููุณุชุฎุฏู
- โ ุนุฑุถ ุนุฏุฏ ุงููุญุงููุงุช
- โ ูุคุดุฑ ุชูุฏู ุฏููู

**ุงููุชูุฌุฉ:**
- ๐ฏ ุงููุณุชุฎุฏู ูุนุฑู ุจุงูุถุจุท ูุง ูุญุฏุซ
- ๐ฏ ุงูุฃุฎุทุงุก ูุงุถุญุฉ ููููููุฉ
- ๐ฏ ูุนุงุฏ ุงููุญุงููุฉ ุชููุงุฆูุงู
- ๐ฏ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ

---

### 4๏ธโฃ ุฏููู ุญู ุงููุดุงูู (`TROUBLESHOOTING_GUIDE.md`)

**ูุญุชูู ุนูู:**
- ๐ ุดุฑุญ ุชูุตููู ููู ูุดููุฉ ูุญุชููุฉ
- ๐ง ุญููู ุฎุทูุฉ ุจุฎุทูุฉ
- ๐ก ุฃูุงูุฑ ูููุฏุฉ
- โ๏ธ ุชุญุฐูุฑุงุช ูุฃูุถู ุงูููุงุฑุณุงุช
- ๐ ูุนูููุงุช ุงูุฏุนู ุงูููู

**ุงูุฃูุณุงู:**
1. ูุดุงูู ุฑูุน ุงูุตูุฑ
2. ูุดุงูู Firebase
3. ูุดุงูู ุงูุตูุงุญูุงุช
4. ูุดุงูู CORS
5. ุงูุตูุงูุฉ ุงูููุงุฆูุฉ

---

### 5๏ธโฃ ุฏููู ุงููุญุต ุงูุณุฑูุน (`QUICK_HEALTH_CHECK.md`)

**ูููุญุต ุงููููู (5 ุฏูุงุฆู):**
- โ ูุญุต ุงูุงุชุตุงู ุจู Firebase
- โ ูุญุต Storage
- โ ุงุฎุชุจุงุฑ ุฑูุน ุตูุฑุฉ
- โ ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช

---

## ๐ ููู ูุญูู ูุฐุง ุงููุธุงู ุงูุชุทุจููุ

### 1๏ธโฃ **ุงูุชุดุงู ุงููุดุงูู ูุจูุฑุงู**
- ููุญุต ุงูุงุชุตุงู ูุจู ูุญุงููุฉ ุงูุฑูุน
- ููุญุต ุงูุตูุงุญูุงุช ูุจู ุงูุนูููุฉ
- ูุชุญูู ูู ุตุญุฉ ุงูููู ูุณุจูุงู

### 2๏ธโฃ **ุฅุนุงุฏุฉ ูุญุงููุฉ ุฐููุฉ**
- ูุง ููุดู ูู ุฃูู ูุญุงููุฉ
- ูุนุทู ูุฑุตุฉ ููุงุชุตุงู ุฃู ูุณุชูุฑ
- ูุฒูุฏ ููุช ุงูุงูุชุธุงุฑ ุชุฏุฑูุฌูุงู

### 3๏ธโฃ **ุฑุณุงุฆู ูุงุถุญุฉ**
- ุงููุณุชุฎุฏู ูุนุฑู ุงููุดููุฉ ุจุงูุถุจุท
- ูุญุตู ุนูู ุฅุฑุดุงุฏุงุช ููุญู
- ูุง ูุดุนุฑ ุจุงูุฅุญุจุงุท

### 4๏ธโฃ **ุชุณุฌูู ุงูุฃุฎุทุงุก**
- ูุณุฌู ูู ุฎุทุฃ ูุน ุงูุชูุงุตูู
- ูููู ูุฑุงุฌุนุชู ูุงุญูุงู
- ูุณุงุนุฏ ูู ุชุญุณูู ุงููุธุงู

### 5๏ธโฃ **ูุซุงุฆู ุดุงููุฉ**
- ุฏููู ููู ูุดููุฉ ูุญุชููุฉ
- ุญููู ุฌุงูุฒุฉ
- ูููู ูุฃู ุดุฎุต ุญู ุงููุดุงูู

---

## ๐ ุงูููุงุฑูุฉ: ูุจู ูุจุนุฏ

| ุงูููุฒุฉ | โ ูุจู | โ ุจุนุฏ |
|--------|--------|--------|
| **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก** | "ุญุฏุซ ุฎุทุฃ" | ุฑุณุงูุฉ ูุงุถุญุฉ + ุญู |
| **ุฅุนุงุฏุฉ ุงููุญุงููุฉ** | ูุง ููุฌุฏ | 3 ูุญุงููุงุช ุชููุงุฆูุฉ |
| **ูุญุต ุงูุงุชุตุงู** | ูุง ููุฌุฏ | ุชููุงุฆู ูุจู ุงูุฑูุน |
| **ูุญุต ุงูููู** | ูุง ููุฌุฏ | ุญุฌู + ููุน + ุงุณู |
| **ุงูุชูุฏู** | ูุณุจุฉ ุชูุฑูุจูุฉ | ูุณุจุฉ ุฏูููุฉ |
| **ุงูุชูุซูู** | ูุง ููุฌุฏ | ุฏููููู ุดุงูููู |
| **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู** | ูุญุจุทุฉ ุนูุฏ ุงูุฎุทุฃ | ูุงุถุญุฉ ููุทูุฆูุฉ |

---

## ๐ฏ ุงูุณููุงุฑูููุงุช ุงููุญููุฉ

### ุงูุณููุงุฑูู 1: ุงููุทุงุน ุงูุฅูุชุฑูุช ุงููุคูุช
**ูุจู:** โ "ุญุฏุซ ุฎุทุฃ"  
**ุจุนุฏ:** 
1. โ ููุชุดู ุงููุทุงุน ุงูุฅูุชุฑูุช
2. โ ูุนูู ุงููุณุชุฎุฏู: "ุชุญูู ูู ุงุชุตุงูู"
3. โ ูุนูุฏ ุงููุญุงููุฉ ุชููุงุฆูุงู
4. โ ููุฌุญ ุนูุฏ ุนูุฏุฉ ุงูุฅูุชุฑูุช

### ุงูุณููุงุฑูู 2: ูุดููุฉ ูู Firebase
**ูุจู:** โ "ุญุฏุซ ุฎุทุฃ"  
**ุจุนุฏ:**
1. โ ููุชุดู ููุน ุงููุดููุฉ
2. โ ูุนูู ุงููุณุชุฎุฏู ุจุงูุชูุตูู
3. โ ููุฌูู ููุญู ุงูููุงุณุจ
4. โ ูุณุฌู ุงูุฎุทุฃ ูููุฑุงุฌุนุฉ

### ุงูุณููุงุฑูู 3: ููู ูุจูุฑ ุฌุฏุงู
**ูุจู:** โ ูุญุงูู ุงูุฑูุน ุซู ููุดู  
**ุจุนุฏ:**
1. โ ููุญุต ุงูุญุฌู ูุจู ุงูุฑูุน
2. โ ูุฑูุถ ุงูููู ููุฑุงู
3. โ ููุถุญ ุงูุญุฏ ุงูุฃูุตู
4. โ ูููุฑ ููุช ููุฌููุฏ

### ุงูุณููุงุฑูู 4: ูุดููุฉ ุตูุงุญูุงุช
**ูุจู:** โ "Unauthorized"  
**ุจุนุฏ:**
1. โ ููุญุต ุงูุตูุงุญูุงุช ุฃููุงู
2. โ "ููุณ ูุฏูู ุตูุงุญูุฉ"
3. โ "ุณุฌู ุฏุฎูู ููุณุคูู"
4. โ ูุงุถุญ ููุจุงุดุฑ

---

## ๐ก ูุตุงุฆุญ ููุงุณุชุฎุฏุงู

### ูููุทูุฑูู:
1. โ **ุฏุงุฆูุงู ุงุณุชุฎุฏู** `safeUploadFile` ุจุฏูุงู ูู `uploadBytes`
2. โ **ุงูุญุต ูุชูุฌุฉ** ุงูุฑูุน ูุจู ุงููุชุงุจุนุฉ
3. โ **ุงุนุฑุถ ุฑุณุงุฆู ุงูุฎุทุฃ** ูููุณุชุฎุฏู
4. โ **ุฑุงุฌุน ุงูู logs** ุนูุฏ ุญุฏูุซ ูุดููุฉ

### ูููุณุคูููู:
1. โ **ุงูุญุต ุงูุชุทุจูู ููููุงู** ุจุงุณุชุฎุฏุงู `QUICK_HEALTH_CHECK.md`
2. โ **ุฑุงุฌุน ุฏููู ุงููุดุงูู** ุนูุฏ ุญุฏูุซ ุฎุทุฃ
3. โ **ุชุงุจุน ุญุฌู Storage** ูู Firebase Console
4. โ **ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ** ูู `.env.local`

---

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

### ูุฑูุจุงู:
- [ ] ูุธุงู ุชุณุฌูู ูุฑูุฒู ููุฃุฎุทุงุก
- [ ] ููุญุฉ ูุฑุงูุจุฉ ููุฃุฎุทุงุก
- [ ] ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ ุนูุฏ ุงููุดุงูู
- [ ] ุชูุงุฑูุฑ ุฃุณุจูุนูุฉ ุนู ุตุญุฉ ุงูุชุทุจูู

---

## ๐ ุงูุฏุนู

- ๐ **ุฏููู ุงููุดุงูู:** `TROUBLESHOOTING_GUIDE.md`
- ๐ฅ **ุงููุญุต ุงูุณุฑูุน:** `QUICK_HEALTH_CHECK.md`
- ๐ฌ **ุงูุชูุงุตู:** support@sabstore.com

---

## โ ุงูุฎูุงุตุฉ

**ุชู ุชุญููู ุงูุชุทุจูู ูู:**
- โ ููุดู ุนูุฏ ุฃูู ูุดููุฉ
- โ ุฑุณุงุฆู ุฎุทุฃ ุบุงูุถุฉ
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุจุทุฉ

**ุฅูู:**
- โ ูุธุงู ููู ููุฑู
- โ ุฑุณุงุฆู ูุงุถุญุฉ ููููุฏุฉ
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ
- โ ุณูู ุงูุตูุงูุฉ ูุงููุฑุงูุจุฉ

**ุงููุชูุฌุฉ:** ๐ ุชุทุจูู ุฃูุซุฑ ุงุณุชูุฑุงุฑุงู ูุฃูุงูุงู ูุฑุถุง ุงููุณุชุฎุฏููู!

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 1 ููููุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ:** 2.0.0  
**ุงููุทูุฑ:** GitHub Copilot ๐ค
