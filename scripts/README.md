# ๐ง Firebase Scripts - ุณูุฑูุจุชุงุช Firebase

## ๐ ุงููุตู ุงูุนุงู

ูุฌููุนุฉ ูู ุงูุณูุฑูุจุชุงุช ุงููุณุงุนุฏุฉ ูุฅุฏุงุฑุฉ Firebase ูุงููุธุงู.

---

## 1๏ธโฃ ุฅูุดุงุก Collections (initFirebaseCollections.js)

### ๐ ุงููุตู

ูุฐุง ุงูุณูุฑูุจุช ููุดุฆ ุชููุงุฆูุงู ุฌููุน ุงูู Collections ุงููุทููุจุฉ ููุธุงู ุงูุฅุดุนุงุฑุงุช ุงููุฒุฏูุฌ ูู Firebase Firestore.

### ๐ฆ Collections ุงูุชู ุณูุชู ุฅูุดุงุคูุง:

1. **`userNotifications`** - ุฅุดุนุงุฑุงุช ุงูุนููุงุก
2. **`notifications`** - ุฅุดุนุงุฑุงุช ุงูุฃุฏูู (ุงูุชุญูู ูู ูุฌูุฏูุง)
3. **`activityLog`** - ุณุฌู ุงูุฃูุดุทุฉ

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุงูุทุฑููุฉ 1: ุจุงุณุชุฎุฏุงู npm (ุงูุฃุณูู)

```bash
npm run init:firebase
```

### ุงูุทุฑููุฉ 2: ุชุดุบูู ูุจุงุดุฑ

```bash
node scripts/initFirebaseCollections.js
```

## โ๏ธ ุงููุชุทูุจุงุช

1. โ ููู `.env.local` ูุญุชูู ุนูู ุจูุงูุงุช Firebase
2. โ ุญุฒูุฉ `dotenv` ูุซุจุชุฉ (ูุชู ุชุซุจูุชูุง ุชููุงุฆูุงู)
3. โ ุญุฒูุฉ `firebase` ูุซุจุชุฉ (ููุฌูุฏุฉ ูู ุงููุดุฑูุน)

## ๐ ูุง ููุนูู ุงูุณูุฑูุจุช

1. ููุฑุฃ ุจูุงูุงุช Firebase ูู `.env.local`
2. ูุชุตู ุจู Firestore
3. ููุดุฆ ูุณุชูุฏ ุชุฌุฑูุจู ูู ูู collection:
   - `userNotifications`: ุฅุดุนุงุฑ ุชุฑุญูุจู ุชุฌุฑูุจู
   - `notifications`: ุฅุดุนุงุฑ ูุธุงู ููุฃุฏูู
   - `activityLog`: ุณุฌู ุชููุฆุฉ ุงููุธุงู

## โ ุจุนุฏ ุงูุชุดุบูู

1. ุงูุชุญ Firebase Console
2. ุชุญูู ูู ูุฌูุฏ ุงูู Collections ุงูุฌุฏูุฏุฉ
3. ุงุญุฐู ุงููุณุชูุฏุงุช ุงูุชุฌุฑูุจูุฉ ุฅุฐุง ุฃุฑุฏุช
4. ุฌุงูุฒ ููุงุณุชุฎุฏุงู! โจ

## ๐ ููุงุญุธุฉ ุฃูููุฉ

ุชุฃูุฏ ูู ุชุญุฏูุซ ููุงุนุฏ Firestore ูู Firebase Console ุจุงุณุชุฎุฏุงู ุงูููู `firestore.rules`!

## ๐ ูููุฒูุฏ

ุฑุงุฌุน ุงูุฏููู ุงูุดุงูู ูู `DUAL_NOTIFICATIONS_GUIDE.md`

---

## 2๏ธโฃ ุงุฎุชุจุงุฑ ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ (testPasswordReset.js)

### ๐ ุงููุตู

ุณูุฑูุจุช ูุงุฎุชุจุงุฑ ูุธููุฉ ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ ูุชูููุฏ ุฑูุงุจุท ูุญููุฉ.

### ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

```bash
node scripts/testPasswordReset.js <admin-email>
```

### ๐ ูุซุงู

```bash
node scripts/testPasswordReset.js admin@sabstore.com
```

### โ ูุง ููุนูู ุงูุณูุฑูุจุช

1. ูุชุญูู ูู ูุฌูุฏ ุงููุณุชุฎุฏู ูู Firebase
2. ูููุฏ ุฑุงุจุท ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ
3. ูุนุฑุถ ุงูุฑุงุจุท ุงููุญูู ููุงุฎุชุจุงุฑ
4. ูุณุชุฎุฑุฌ OOB Code ููุชุญูู

### ๐ก ููุงุญุธุงุช

- ุงูุฑุงุจุท ุงููููุฏ ูุดูุฑ ุฅูู `localhost:3000`
- ููุงุณุจ ููุงุฎุชุจุงุฑ ุงููุญูู
- ุชุฃูุฏ ูู ุฅุถุงูุฉ `localhost` ูู Firebase Authorized Domains

### ๐ ูููุฒูุฏ

ุฑุงุฌุน `PASSWORD_RESET_SETUP.md` ููุฒูุฏ ูู ุงูุชูุงุตูู ุญูู ุฅุนุฏุงุฏ ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ.

---

## ๐ ููุงุญุธุงุช ุฃูููุฉ

- ุฌููุน ุงูุณูุฑูุจุชุงุช ุชุณุชุฎุฏู `.env.local` ูุจูุงูุงุช Firebase
- ูุง ุชุดุงุฑู ููู `.env.local` ุฃุจุฏุงู
- ุชุฃูุฏ ูู ุชุญุฏูุซ ููุงุนุฏ Firestore ูู Firebase Console