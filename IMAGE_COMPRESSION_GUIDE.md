# ๐ผ๏ธ ูุธุงู ุถุบุท ุงูุตูุฑ ุงูุชููุงุฆู
## Automatic Image Compression System

ูุธุงู ูุชูุฏู ูุถุบุท ุงูุตูุฑ ุชููุงุฆูุงู ูุจู ุฑูุนูุงุ ูููุฑ ุงููุณุงุญุฉ ููุณุฑุน ุงูุชุญููู.

---

## โจ ุงููููุฒุงุช

### 1๏ธโฃ **ุถุบุท ุฐูู**
- ูููู ุญุฌู ุงูุตูุฑุฉ ุชููุงุฆูุงู
- ูุญุงูุธ ุนูู ุงูุฌูุฏุฉ ุงูุจุตุฑูุฉ
- ูููุฑ 40-70% ูู ุงููุณุงุญุฉ

### 2๏ธโฃ **ุชุญุณูู ุงูุฃุจุนุงุฏ**
- ูููู ุงูุฃุจุนุงุฏ ุงููุจูุฑุฉ ุฌุฏุงู
- ูุญุงูุธ ุนูู ุงููุณุจุฉ ุงูุฃุตููุฉ
- ุฃูุตู ุจูุนุฏ: 1920 ุจูุณู

### 3๏ธโฃ **ุชุญููู ุฐูู**
- ุชุญููู ุชููุงุฆู ุฅูู JPEG
- ุฏุนู WebP (ุฃูุถู ุถุบุท)
- ุฌูุฏุฉ ูุงุจูุฉ ููุชุฎุตูุต

---

## ๐ฏ ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ

```typescript
{
  maxSizeMB: 1,           // ุงูุญุฌู ุงูุฃูุตู: 1 ููุฌุงุจุงูุช
  maxWidthOrHeight: 1920, // ุฃูุตู ุจูุนุฏ: 1920 ุจูุณู
  quality: 0.85,          // ุงูุฌูุฏุฉ: 85%
}
```

---

## ๐ ุฃูุซูุฉ ุนูู ุงูุชูููุฑ

| ููุน ุงูุตูุฑุฉ | ุงูุญุฌู ุงูุฃุตูู | ุจุนุฏ ุงูุถุบุท | ุงูุชูููุฑ |
|------------|--------------|-----------|---------|
| ุตูุฑุฉ ุนุงููุฉ ุงูุฌูุฏุฉ | 5 MB | 800 KB | **84%** โ |
| ุตูุฑุฉ ูุชูุณุทุฉ | 2 MB | 600 KB | **70%** โ |
| ุตูุฑุฉ ูู ุงูููุจุงูู | 3 MB | 700 KB | **77%** โ |
| ููุทุฉ ุดุงุดุฉ | 1.5 MB | 400 KB | **73%** โ |

---

## ๐ง ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุงุณุชุฎุฏุงู ุชููุงุฆู (ููุตู ุจู):
```typescript
const uploadResult = await safeUploadFile(imageFile, 'path/to/image.jpg', {
  compress: true, // โ ููุนูู ุงูุชุฑุงุถูุงู
});

// ุงูุถุบุท ูุญุฏุซ ุชููุงุฆูุงู ูุจู ุงูุฑูุน
```

### ุชุฎุตูุต ุฅุนุฏุงุฏุงุช ุงูุถุบุท:
```typescript
const uploadResult = await safeUploadFile(imageFile, 'path/to/image.jpg', {
  compress: true,
  compressionOptions: {
    maxSizeMB: 0.5,        // ุญุฌู ุฃุตุบุฑ (500 KB)
    maxWidthOrHeight: 1280, // ุฃุจุนุงุฏ ุฃุตุบุฑ
    quality: 0.9,           // ุฌูุฏุฉ ุฃุนูู
  },
});
```

### ุชุนุทูู ุงูุถุบุท:
```typescript
const uploadResult = await safeUploadFile(imageFile, 'path/to/image.jpg', {
  compress: false, // โ ุฑูุน ุงูุตูุฑุฉ ููุง ูู
});
```

---

## ๐ ุฏููู ุงูุฅุนุฏุงุฏุงุช

### maxSizeMB
**ุงูุญุฌู ุงูุฃูุตู ุจุงูููุฌุงุจุงูุช**

- **ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ:** `1` (1 ููุฌุงุจุงูุช)
- **ุงููุทุงู ุงูููุตู ุจู:** `0.5 - 2`
- **ูุซุงู:**
  ```typescript
  maxSizeMB: 0.5  // ููุตูุฑ ุงูุตุบูุฑุฉ (ุฃููููุงุชุ ุตูุฑ ูุตุบุฑุฉ)
  maxSizeMB: 1    // ููุงุณุชุฎุฏุงู ุงูุนุงู (ููุตู ุจู) โ
  maxSizeMB: 2    // ููุตูุฑ ุนุงููุฉ ุงูุฌูุฏุฉ
  ```

### maxWidthOrHeight
**ุฃูุตู ุนุฑุถ ุฃู ุงุฑุชูุงุน ุจุงูุจูุณู**

- **ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ:** `1920` ุจูุณู
- **ุงููุทุงู ุงูููุตู ุจู:** `1280 - 3840`
- **ูุซุงู:**
  ```typescript
  maxWidthOrHeight: 800   // ููุตูุฑ ุงููุตุบุฑุฉ
  maxWidthOrHeight: 1280  // ููุดุงุดุงุช ุงูุนุงุฏูุฉ
  maxWidthOrHeight: 1920  // ูุดุงุดุงุช Full HD (ููุตู ุจู) โ
  maxWidthOrHeight: 3840  // ูุดุงุดุงุช 4K
  ```

### quality
**ุฌูุฏุฉ ุงูุตูุฑุฉ (0-1)**

- **ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ:** `0.85` (85%)
- **ุงููุทุงู ุงูููุตู ุจู:** `0.7 - 0.95`
- **ูุซุงู:**
  ```typescript
  quality: 0.7   // ุฌูุฏุฉ ููุฎูุถุฉุ ุญุฌู ุฃุตุบุฑ
  quality: 0.85  // ุชูุงุฒู ููุชุงุฒ (ููุตู ุจู) โ
  quality: 0.95  // ุฌูุฏุฉ ุนุงููุฉ ุฌุฏุงู
  ```

---

## ๐จ ุฃูุถู ุงูููุงุฑุณุงุช

### โ ููุจุงูุฑุงุช ูุงูุตูุฑ ุงูุฑุฆูุณูุฉ:
```typescript
compressionOptions: {
  maxSizeMB: 1,
  maxWidthOrHeight: 1920,
  quality: 0.85,
}
```

### โ ูุตูุฑ ุงูููุชุฌุงุช:
```typescript
compressionOptions: {
  maxSizeMB: 0.8,
  maxWidthOrHeight: 1280,
  quality: 0.9, // ุฌูุฏุฉ ุฃุนูู ููููุชุฌุงุช
}
```

### โ ููุตูุฑ ุงููุตุบุฑุฉ (Thumbnails):
```typescript
compressionOptions: {
  maxSizeMB: 0.3,
  maxWidthOrHeight: 600,
  quality: 0.8,
}
```

### โ ูููุฌูู ูุงูุจูุฑุชุฑูู:
```typescript
compressionOptions: {
  maxSizeMB: 1,
  maxWidthOrHeight: 1920,
  quality: 0.9, // ุฌูุฏุฉ ุฃุนูู ููุชูุงุตูู
}
```

---

## ๐ ูุชุงุจุนุฉ ุงูุชูุฏู

```typescript
const uploadResult = await safeUploadFile(imageFile, storagePath, {
  compress: true,
  onCompressionProgress: (status) => {
    console.log(status);
    // ูุซุงู: "๐๏ธ ุฌุงุฑู ุถุบุท ุงูุตูุฑุฉ..."
    // ูุซุงู: "โ ุชู ุงูุถุบุท: ููุฑูุง 65.3%"
  },
  onProgress: (progress) => {
    console.log(`ุงูุชูุฏู: ${progress}%`);
  },
});

// ุงูุชุญูู ูู ูุนูููุงุช ุงูุถุบุท
if (uploadResult.compressionInfo) {
  const { originalSize, compressedSize, savedPercentage } = uploadResult.compressionInfo;
  console.log(`ุงูุญุฌู ุงูุฃุตูู: ${(originalSize / 1024).toFixed(1)} KB`);
  console.log(`ุจุนุฏ ุงูุถุบุท: ${(compressedSize / 1024).toFixed(1)} KB`);
  console.log(`ุงูุชูููุฑ: ${savedPercentage.toFixed(1)}%`);
}
```

---

## โ๏ธ ููู ูุนูู ุงููุธุงูุ

### 1. **ูุญุต ุงูุตูุฑุฉ**
```
ุงูุญุฌู ุงูุฃุตูู: 4.2 MB
ุงูุฃุจุนุงุฏ: 3840 x 2160 px
```

### 2. **ุชุทุจูู ุงูุถุบุท**
```
๐๏ธ ูุญุงููุฉ 1: ุฌูุฏุฉ 85%
   ุงููุชูุฌุฉ: 1.2 MB โ (ุฃูู ูู 1 MB)
```

### 3. **ุชูููู ุงูุฃุจุนุงุฏ**
```
ุงูุฃุจุนุงุฏ ุงูุฌุฏูุฏุฉ: 1920 x 1080 px
(ุงูุญูุงุธ ุนูู ุงููุณุจุฉ ุงูุฃุตููุฉ)
```

### 4. **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ**
```
โ ุชู ุงูุถุบุท ุจูุฌุงุญ
ุงูุญุฌู ุงูููุงุฆู: 850 KB
ุงูุชูููุฑ: 79.8%
```

---

## ๐ฌ ุชูุงุตูู ุชูููุฉ

### ุงูุฎูุงุฑุฒููุฉ ุงููุณุชุฎุฏูุฉ:
1. **ูุฑุงุกุฉ ุงูุตูุฑุฉ** โ ุงุณุชุฎุฏุงู HTML5 Canvas API
2. **ุญุณุงุจ ุงูุฃุจุนุงุฏ ุงูุฌุฏูุฏุฉ** โ ุงูุญูุงุธ ุนูู Aspect Ratio
3. **ุงูุถุบุท ุงูุชูุฑุงุฑู** โ ุญุชู ุงููุตูู ููุญุฌู ุงููุทููุจ
4. **ุงูุชุญููู ุงูููุงุฆู** โ JPEG ุฃู WebP

### ุชูููุงุช ุงูุถุบุท:
- **Canvas Resizing** - ุชูููู ุงูุฃุจุนุงุฏ
- **Quality Reduction** - ุชูููู ุงูุฌูุฏุฉ ุชุฏุฑูุฌูุงู
- **Format Conversion** - ุชุญููู ุฅูู ุชูุณูู ุฃูุถู
- **Iterative Approach** - ูุญุงููุงุช ูุชุนุฏุฏุฉ ูููุตูู ููุฃูุถู

---

## ๐ ุงูุฃุฏุงุก

### ุณุฑุนุฉ ุงูุถุบุท:
- ุตูุฑุฉ 2 MB: **~500 ูููู ุซุงููุฉ** โก
- ุตูุฑุฉ 5 MB: **~1.2 ุซุงููุฉ** โก
- ุตูุฑุฉ 10 MB: **~2.5 ุซุงููุฉ** โก

### ุงูุชูุงูู:
- โ ุฌููุน ุงููุชุตูุญุงุช ุงูุญุฏูุซุฉ
- โ ุงูููุจุงูู ูุงูุชุงุจูุช
- โ ูุง ูุญุชุงุฌ ููุชุจุงุช ุฎุงุฑุฌูุฉ

---

## โ ุฃุณุฆูุฉ ุดุงุฆุนุฉ

### ูู ุณูุคุซุฑ ุนูู ุฌูุฏุฉ ุงูุตูุฑุฉุ
**ุงูุฅุฌุงุจุฉ:** ููููุงู ุฌุฏุงู. ูุน ุฅุนุฏุงุฏุงุช ุงูุฌูุฏุฉ 85%ุ ุงููุฑู ุบูุฑ ููุญูุธ ููุนูู ุงููุฌุฑุฏุฉ.

### ูู ูููู ุชุนุทูู ุงูุถุบุทุ
**ุงูุฅุฌุงุจุฉ:** ูุนูุ ุจุงุณุชุฎุฏุงู `compress: false`

### ูุง ูู ุฃูุถู ุฅุนุฏุงุฏุงุชุ
**ุงูุฅุฌุงุจุฉ:** ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ ููุชุงุฒุฉ ููุงุณุชุฎุฏุงู ุงูุนุงู:
- `maxSizeMB: 1`
- `maxWidthOrHeight: 1920`
- `quality: 0.85`

### ูู ูุฏุนู ุฌููุน ุฃููุงุน ุงูุตูุฑุ
**ุงูุฅุฌุงุจุฉ:** ูุนูุ ูุฏุนู:
- PNG
- JPEG/JPG
- WebP
- GIF (ุณูุญูู ุฅูู JPEG)
- BMP (ุณูุญูู ุฅูู JPEG)

---

## ๐ฏ ููุงุฑูุฉ: ูุจู ูุจุนุฏ

### โ ุจุฏูู ุงูุถุบุท:
```
ุงูุจุงูุฑ 1: 4.5 MB
ุงูุจุงูุฑ 2: 3.2 MB
ุงูุจุงูุฑ 3: 5.1 MB
โโโโโโโโโโโโโโโโโ
ุงููุฌููุน: 12.8 MB
```

### โ ูุน ุงูุถุบุท:
```
ุงูุจุงูุฑ 1: 850 KB  (ุชูููุฑ 81%)
ุงูุจุงูุฑ 2: 720 KB  (ุชูููุฑ 78%)
ุงูุจุงูุฑ 3: 920 KB  (ุชูููุฑ 82%)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ุงููุฌููุน: 2.5 MB  (ุชูููุฑ 80%)
```

### ๐ ุงููุชูุฌุฉ:
- **ุชูููุฑ ูู ุงููุณุงุญุฉ:** 10.3 MB
- **ุชุณุฑูุน ุงูุชุญููู:** 4-5 ุฃุถุนุงู
- **ุชุญุณูู ุงูุฃุฏุงุก:** ููุญูุธ ุฌุฏุงู

---

## ๐ ููุงุญุธุงุช ูููุฉ

### โ๏ธ ุชุญุฐูุฑุงุช:
1. ุงูุถุบุท ูุญุฏุซ ูู ุงููุชุตูุญ (Client-side)
2. ูุฏ ูุณุชุบุฑู ููุชุงู ููุตูุฑ ุงููุจูุฑุฉ ุฌุฏุงู (>10MB)
3. ุงูุชุญููู ุฅูู JPEG ูููุฏ ุงูุดูุงููุฉ (PNG transparency)

### โ ูุตุงุฆุญ:
1. ุงุณุชุฎุฏู ุงูุถุบุท ุฏุงุฆูุงู ููุตูุฑ ุงููุจูุฑุฉ
2. ุฑุงูุจ ูุนูููุงุช ุงูุถุบุท ูู Console
3. ุงุถุจุท ุงูุฌูุฏุฉ ุญุณุจ ููุน ุงูุตูุฑุฉ
4. ุงุฎุชุจุฑ ุงููุชุงุฆุฌ ุนูู ุดุงุดุงุช ูุฎุชููุฉ

---

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

### ูุฑูุจุงู:
- [ ] ุฏุนู ุถุบุท ุงูููุฏูู
- [ ] ูุนุงููุฉ ูุจู ูุจุนุฏ ุงูุถุบุท
- [ ] ุถุบุท ูุชุนุฏุฏ (Batch) ุจุงูุชูุงุฒู
- [ ] ุฏุนู AVIF (ุฃุญุฏุซ ุชูุณูู)

---

## ๐ ุงูุฏุนู

ูููุฒูุฏ ูู ุงููุณุงุนุฏุฉ:
- ๐ ุฑุงุฌุน: `PROTECTION_SYSTEM_README.md`
- ๐ง ุฑุงุฌุน: `TROUBLESHOOTING_GUIDE.md`
- ๐ฌ ุงูุชูุงุตู: support@sabstore.com

---

**ุขุฎุฑ ุชุญุฏูุซ:** 1 ููููุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ:** 2.1.0  
**ุงูููุฒุฉ:** ุถุบุท ุชููุงุฆู ููุตูุฑ ๐
